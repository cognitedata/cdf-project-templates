Group:
- capabilities:
  - threedAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 1
  - assetsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 2
  - filesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 3
          - 4
  - filesAcl:
      actions:
      - WRITE
      scope:
        datasetScope:
          ids:
          - 5
  - relationshipsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 6
  - timeSeriesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 7
          - 8
  - timeSeriesAcl:
      actions:
      - WRITE
      scope:
        datasetScope:
          ids:
          - 9
  - dataModelsAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cdf_infield
          - cdf_core
          - cdf_apps_shared
          - APM_SourceData
  - dataModelInstancesAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cognite_app_data
          - infield_default_location_source_data_space
          - infield_default_location_app_data_space
  - dataModelInstancesAcl:
      actions:
      - WRITE
      scope:
        spaceIdScope:
          spaceIds:
          - cognite_app_data
          - infield_default_location_app_data_space
  metadata:
    module_version: '1'
    origin: cdf-project-templates
  name: infield_default_checklist_admins
  sourceId: 684237e9-c1fd-4d3c-8c50-de9ea30ac16f
- capabilities:
  - threedAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 10
  - assetsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 11
  - filesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 12
          - 13
  - filesAcl:
      actions:
      - WRITE
      scope:
        datasetScope:
          ids:
          - 14
  - relationshipsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 15
  - timeSeriesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 16
          - 17
  - timeSeriesAcl:
      actions:
      - WRITE
      scope:
        datasetScope:
          ids:
          - 18
  - dataModelsAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cdf_infield
          - cdf_core
          - cdf_apps_shared
          - APM_SourceData
  - dataModelInstancesAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cognite_app_data
          - infield_default_location_source_data_space
          - infield_default_location_app_data_space
  - dataModelInstancesAcl:
      actions:
      - WRITE
      scope:
        spaceIdScope:
          spaceIds:
          - cognite_app_data
          - infield_default_location_app_data_space
  metadata:
    module_version: '1'
    origin: cdf-project-templates
  name: infield_default_normal_users
- capabilities:
  - threedAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 19
  - assetsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 20
  - filesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 21
          - 22
  - filesAcl:
      actions:
      - WRITE
      scope:
        datasetScope:
          ids:
          - 23
  - relationshipsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 24
  - timeSeriesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 25
          - 26
  - timeSeriesAcl:
      actions:
      - WRITE
      scope:
        datasetScope:
          ids:
          - 27
  - dataModelsAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cdf_infield
          - cdf_core
          - cdf_apps_shared
          - APM_SourceData
  - dataModelInstancesAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cognite_app_data
          - infield_default_location_source_data_space
          - infield_default_location_app_data_space
  - dataModelInstancesAcl:
      actions:
      - WRITE
      scope:
        spaceIdScope:
          spaceIds:
          - cognite_app_data
          - infield_default_location_app_data_space
  metadata:
    module_version: '1'
    origin: cdf-project-templates
  name: infield_default_template_admins
- capabilities:
  - threedAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 28
  - assetsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 29
  - filesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 30
          - 31
  - relationshipsAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 32
  - timeSeriesAcl:
      actions:
      - READ
      scope:
        datasetScope:
          ids:
          - 33
          - 34
  - dataModelsAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cdf_infield
          - cdf_core
          - cdf_apps_shared
          - APM_SourceData
  - dataModelInstancesAcl:
      actions:
      - READ
      scope:
        spaceIdScope:
          spaceIds:
          - APM_Config
          - cdf_apm
          - cognite_app_data
          - infield_default_location_source_data_space
          - infield_default_location_app_data_space
  - dataModelInstancesAcl:
      actions:
      - WRITE
      scope:
        spaceIdScope:
          spaceIds:
          - cognite_app_data
  metadata:
    module_version: '1'
    origin: cdf-project-templates
  name: infield_default_viewers
Space:
- description: Space for Infield Location App Data
  name: infield_default_location_app_data_space
  space: infield_default_location_app_data_space
- description: Space for Infield Location Source Data
  name: infield_default_location_source_data_space
  space: infield_default_location_source_data_space
Transformation:
- dataSetId: 999
  destination:
    instanceSpace: infield_default_location_source_data_space
    type: nodes
    view:
      externalId: Asset
      space: cdf_core
      version: v1
  destinationOidcCredentials:
    audience: ${IDP_AUDIENCE}
    cdfProjectName: ${CDF_PROJECT}
    clientId: ${IDP_CLIENT_ID}
    clientSecret: ${IDP_CLIENT_SECRET}
    scopes: ${IDP_SCOPES}
    tokenUri: ${IDP_TOKEN_URL}
  externalId: sync_asset_parents_from_hierarchy_to_apm
  hasDestinationOidcCredentials: false
  hasSourceOidcCredentials: false
  ignoreNullFields: true
  isPublic: true
  name: Sync asset parent relationships from Asset Hierarchy to APM Asset model
  ownerIsCurrentUser: true
  query: "select\n  cast(asset.externalId as STRING) as externalId,\n  (case\n   \
    \ when isnull(asset.parentExternalId) then null\n    else node_reference('infield_default_location_source_data_space',\
    \ asset.parentExternalId) \n  end) as parent\nfrom\n  cdf_assetSubtree('WMT:VAL')\
    \ as asset\n  inner join cdf_assetSubtree('WMT:VAL') as rootAsset on asset.rootId\
    \ = rootAsset.id"
  schedule:
    externalId: sync_asset_parents_from_hierarchy_to_apm
    interval: 0 * * * *
    isPaused: false
  sourceOidcCredentials:
    audience: ${IDP_AUDIENCE}
    cdfProjectName: ${CDF_PROJECT}
    clientId: ${IDP_CLIENT_ID}
    clientSecret: ${IDP_CLIENT_SECRET}
    scopes: ${IDP_SCOPES}
    tokenUri: ${IDP_TOKEN_URL}
- dataSetId: 999
  destination:
    instanceSpace: infield_default_location_source_data_space
    type: nodes
    view:
      externalId: Asset
      space: cdf_core
      version: v1
  destinationOidcCredentials:
    audience: ${IDP_AUDIENCE}
    cdfProjectName: ${CDF_PROJECT}
    clientId: ${IDP_CLIENT_ID}
    clientSecret: ${IDP_CLIENT_SECRET}
    scopes: ${IDP_SCOPES}
    tokenUri: ${IDP_TOKEN_URL}
  externalId: sync_assets_from_hierarchy_to_apm
  hasDestinationOidcCredentials: false
  hasSourceOidcCredentials: false
  ignoreNullFields: true
  isPublic: true
  name: Sync assets from Asset Hierarchy to APM Asset model
  ownerIsCurrentUser: true
  query: "select\n  cast(asset.externalId as STRING) as externalId, \n  cast(\"Asset\
    \ Hierarachy\" as STRING) as source,\n  node_reference('infield_default_location_source_data_space',\
    \ cast(rootAsset.externalId as STRING)) as root,\n  cast(asset.description as\
    \ STRING) as description,\n  cast(asset.name as STRING) as title,\n  cast(asset.externalId\
    \ as STRING) as sourceId\nfrom\n  cdf_assetSubtree('WMT:VAL') as asset\n  inner\
    \ join cdf_assetSubtree('WMT:VAL') as rootAsset on asset.rootId = rootAsset.id"
  schedule:
    externalId: sync_assets_from_hierarchy_to_apm
    interval: 0 * * * *
    isPaused: false
  sourceOidcCredentials:
    audience: ${IDP_AUDIENCE}
    cdfProjectName: ${CDF_PROJECT}
    clientId: ${IDP_CLIENT_ID}
    clientSecret: ${IDP_CLIENT_SECRET}
    scopes: ${IDP_SCOPES}
    tokenUri: ${IDP_TOKEN_URL}
- dataSetId: 999
  destination:
    dataModel:
      destinationRelationshipFromType: null
      destinationType: APM_Activity
      externalId: APM_SourceData
      space: APM_SourceData
      version: '1'
    instanceSpace: infield_default_location_source_data_space
    type: instances
  destinationOidcCredentials:
    audience: ${IDP_AUDIENCE}
    cdfProjectName: ${CDF_PROJECT}
    clientId: ${IDP_CLIENT_ID}
    clientSecret: ${IDP_CLIENT_SECRET}
    scopes: ${IDP_SCOPES}
    tokenUri: ${IDP_TOKEN_URL}
  externalId: sync_workorders_to_apm_activities
  hasDestinationOidcCredentials: false
  hasSourceOidcCredentials: false
  ignoreNullFields: true
  isPublic: true
  name: Sync workorders to APM Activities
  ownerIsCurrentUser: true
  query: "  select\n    cast(`externalId` as STRING) as externalId,\n    cast(`description`\
    \ as STRING) as description,\n    cast(`key` as STRING) as id,\n    cast(`status`\
    \ as STRING) as status,\n    /* cast(`startTime` as TIMESTAMP) as startTime,\n\
    \    cast(`endTime` as TIMESTAMP) as endTime,*/\n    cast('2023-11-06T09:00:00'\
    \ as TIMESTAMP) as startTime,\n    cast('2023-11-10T09:00:00' as TIMESTAMP) as\
    \ endTime,\n    cast(`title` as STRING) as title,\n    'WMT:VAL' as rootLocation,\n\
    \    'workmate' as source\n  from\n    `apm_simple`.`workorders`;\n"
  schedule:
    externalId: sync_workorders_to_apm_activities
    interval: 0 * * * *
    isPaused: false
  sourceOidcCredentials:
    audience: ${IDP_AUDIENCE}
    cdfProjectName: ${CDF_PROJECT}
    clientId: ${IDP_CLIENT_ID}
    clientSecret: ${IDP_CLIENT_SECRET}
    scopes: ${IDP_SCOPES}
    tokenUri: ${IDP_TOKEN_URL}
TransformationSchedule:
- externalId: sync_asset_parents_from_hierarchy_to_apm
  interval: 0 * * * *
  isPaused: false
- externalId: sync_assets_from_hierarchy_to_apm
  interval: 0 * * * *
  isPaused: false
- externalId: sync_workorders_to_apm_activities
  interval: 0 * * * *
  isPaused: false
