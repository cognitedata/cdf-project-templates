externalId: 'ep_ctx_files_{{location_name}}_{{source_name}}_pandid_annotation'
name: 'ctx:files:{{location_name}}:{{source_name}}:pandid_annotation'
dataSetExternalId: 'ds_files_{{location_name}}'
description: 'Annotation of P&ID documents from file source  {{location_name}}:{{source_name}}'

source: '{{source_name}}'
documentation: >
 # Contextualization / Annotation of P&ID Documents  \n
 \n
 The P&ID Annotation runs as a process in CDF Functions. Process triggers on new and updated documents based on update timestamp for document.  \n 
 Extracts all tags in P&ID that matches tags from Asset Hierarchy and creates CDF annotations used for linking found objects in document to other resource types in CDF. \n
 \n
 Default configuration is provided as part of the deployment, but can be overwritten by configuration provided in configuration section below \n
 \n
 ``` \n
 # if True, run without writing any annotations to CDF \n
 debug: False \n
 # if True run annotation on all found documents, if False only run on document not updated since last  annotation  \n                            
 runAll: False \n
 # Number of document from each asset to annotate -1 = All, else number is used \n
 docLimit: -1  \n
 # Data set to read documents / P&ID from + update with annotated timestamp when done  \n
 docDataSetExtId: "{{files_dataset}}" \n
 # In document metadata, where is location of property for P&ID type documents \n
 docTypeMetaCol: "doc_type" \n
 # Document type for P&ID type documents \n 
 pAndIdDocType: "PNID" \n
 # List of externalId for root assets to be used for annotation of documents. Documents are also extracted based on the root asset ID  \n
 assetRootExtIds: [workmate:VAL]  \n
 # Number between 0 and 1, indication of strict the matching should be 1 = only exact matches  \n
 matchTreshold: 0.85 \n
 ``` \n


